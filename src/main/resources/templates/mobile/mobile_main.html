<!DOCTYPE html>
<html lang="ko">
<style>
  .btn-clear {
    display: none !important; /* ê°•ì œë¡œ ìˆ¨ê¹€ */
  }
  .btn-close {
    display: none !important; /* ê°•ì œë¡œ ìˆ¨ê¹€ */
  }
  /* ê²€ìƒ‰ ì˜ì—­ ìŠ¤íƒ€ì¼ */
  #searcharea, #detailarea {
    position: relative;
    width: 100%;
    margin-top: 10px;
  }

  #searcharea input, #detailarea input {
    width: 100%;
    border: none;
    outline: none;
    font-size: 16px;
    padding: 10px;
  }

  /* ê²€ìƒ‰ ì•„ì´ì½˜ (SVG) */
  .search-icon {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
  }

  /* ê²€ìƒ‰ ê°€ì´ë“œ ìŠ¤íƒ€ì¼ */
  .search-guide {
    padding: 10px;
    font-size: 14px;
    color: #666;
  }

  /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
  .btn-select, .btn-login {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }

  /* ëª¨ë‹¬ ì˜¤ë²„ë ˆì´ (ë°°ê²½ íë¦¬ê²Œ) */
  .modal-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5); /* ë°˜íˆ¬ëª…í•œ ê²€ì€ìƒ‰ ë°°ê²½ */
    z-index: 999; /* ëª¨ë‹¬ë³´ë‹¤ í•œ ë‹¨ê³„ ì•„ë˜ */
  }

  /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
  .modal {
    display: none;
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 400px;
    height: 650px;
    max-width: 90%;
    background-color: white;
    border-radius: 10px;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    padding: 20px;
    border: none;
    z-index: 9999;
  }

  /* ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
  .modal-close {
    position: absolute;
    top: 10px;
    right: 5px;
    width: 30px; /* ë²„íŠ¼ í¬ê¸° */
    height: 25px;
    border: none;
    border-radius: 3px;
    background: none; !important; /* ë°°ê²½ ì œê±° */
    background-color: transparent; !important; /* ë°°ê²½ì„ íˆ¬ëª…í•˜ê²Œ */
    z-index: 1000;
    cursor: pointer; /* í´ë¦­ ê°€ëŠ¥í•œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
  }

  #loadingSpinner {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.8); /* ë°°ê²½ ì–´ë‘¡ê²Œ */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
  }

  #loadingImage {
    width: 95%; /* ì „ì²´ í™”ë©´ì˜ 80% í¬ê¸° */
    max-width: 900px; /* ìµœëŒ€ í¬ê¸° ì œí•œ */
  }
  .search-container {
    background-color: #9acaf4;   /* ë°°ê²½ìƒ‰ ì„¤ì • */
    border-radius: 10px;
  }

  .currentData {
    display: inline-block;     /* ì¸ë¼ì¸ ìš”ì†Œì— width ì ìš© ê°€ëŠ¥í•˜ê²Œ í•¨ */
    width: 100%;
    height: 45px;              /* ë†’ì´ ì„¤ì • */
    padding: 3px 8px;          /* ì•ˆìª½ ì—¬ë°± ì„¤ì • */

    vertical-align: middle;    /* í…ìŠ¤íŠ¸ ìˆ˜ì§ ì •ë ¬ */
    text-align: center;
    /*border: 1px solid darkgray;*/
    align-content: center;
    font-size: large;
    color: white;
  }

  .office_btn {
    background-color: #007aff;
    color: white;
    border: none;
    border-radius: 8px;
    width: 100px;
    height: 100px;
    font-size: 1.2em;
    box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    transition: background-color 0.3s;
    display: block;
  }

</style>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ACTAS MES</title>
  <link rel="icon" type="image/png" href="/images/logo/actas_log_a.png">
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/> <!-- Slide css -->
  <link rel="stylesheet" href="/resource/ax5ui/ax5ui.all.css">
  <link rel="stylesheet" type="text/css" href="/assets_mobile/css/import.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

  <script src="/assets_mobile/js/ui.js"></script> <!-- Common js -->
  <script th:inline="javascript">
    var sandanData = /*[[${session.sandanList}]]*/ [];
  </script>


  <script type="text/javascript" src="/resource/ax5ui/ax5ui.all.min.js?v=1000"></script>

  <script type="text/javascript" src="/js/ax5commUtil.js?v=1070"></script>

  <script src="/js/common.js?v=1060"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script> <!-- Slide js -->
  <script src="/js/Mobile.js"></script>
  <script src="https://kit.fontawesome.com/84dc79ac13.js" crossorigin="anonymous"></script>
</head>

<body>
<div class="mobile-wrapper page-ticket-list"><!-- â˜…í˜ì´ì§€ Classëª… -->
  <!-- [ëª¨ë°”ì¼] í—¤ë”  -->
  <div class="mobile-layout-header">
    <header>
      <div class="left">
        <a href="#" title="ì „ì²´ë©”ë‰´" class="logo">
        </a>
      </div>
      <div class="left" style="margin-left:35px; font-size: 25px;">
        <h2>ì¶œí‡´ê·¼ë“±ë¡</h2>
      </div>
      <div class="right">
        <a href="#" title="ì „ì²´ë©”ë‰´" class="btn-menu">
          <img src="/assets_mobile/images/icon/btn-menu.svg" alt="ì „ì²´ë©”ë‰´ ì•„ì´ì½˜">
        </a>
      </div>
    </header>
  </div> <!-- //mobile-layout-header end-->

  <!-- [ëª¨ë°”ì¼] ë©”ë‰´  -->
  <div th:insert="~{mobile/mobile_menu :: mobile_menu}"></div>
  <!-- [ëª¨ë°”ì¼] ì»¨ë´ì¸   -->
  <div class="mobile-layout-contents">
    <!--- (ë ˆì´ì•„ì›ƒ) Contents ì˜ì—­ -->
    <div class="layout-contents" >
      <!-- ê²€ìƒ‰ ì˜ì—­  -->
      <div class="search-wrap">

      </div>
      <!-- ì»¨í…ì¸  ì˜ì—­  -->
      <div class="contents-wrap">
        <dl style="margin-bottom: 10px">
          <div class="search-container">
            <input type="hidden" id="postno">
            <!-- í˜„ì¬ ë‚ ì ì¶œë ¥ -->
            <div style="display: flex">
              <span id="searchDate" class="currentData" style="text-align: justify;"></span>
              <span id="userInfo" class="currentData" style="text-align: end">ìƒì‚°ë¶€ í™ê¸¸ë™ ì‚¬ì›</span>
            </div>
            <!-- ip ê²€ìƒ‰ ì‹œê°„(í˜„ì¬ì‹œê°„) -->
            <div>
              <span id="searchTime" class="currentData" style="height: 100px; font-size: 40px;"><i class="fa-regular fa-clock fa-2xl" style="color: #ffffff;"></i></span>
            </div>
            <!-- í˜„ì¬ip -->
            <div>
              <span id="ipAddress" class="currentData" style="border-radius: 0 0 10px 10px;"></span>
            </div>
          </div>
          <!-- ë²„íŠ¼ -->
          <div id="inside" style="display: none; gap: 13%; justify-content: center; margin-top: 50px;">
            <button onclick="" class="office_btn" style="margin-top: 10px; margin-bottom: 10px; border: none; box-shadow: 0 4px 5px rgba(0, 0, 0, 0.2); "><i class="fa-solid fa-briefcase fa_xl" style="color: #ffffff;"></i><br>ì‚¬ë‚´ì¶œê·¼</button>
            <button onclick="" class="office_btn" style="margin-top: 10px; margin-bottom: 10px; border: none; box-shadow: 0 4px 5px rgba(0, 0, 0, 0.2);  background-color: red;"><i class="fa-solid fa-person-walking fa-xl" style="color: #ffffff;"></i><br>ì‚¬ë‚´í‡´ê·¼</button>
          </div>
          <div id="outside" style="display: none; gap: 13%; justify-content: center; margin-top: 50px;">
            <button onclick="" class="office_btn" style="margin-top: 10px; margin-bottom: 10px; border: none; box-shadow: 0 4px 5px rgba(0, 0, 0, 0.2); "><i class="fa-solid fa-briefcase fa_xl" style="color: #ffffff;"></i><br>ì™¸ë¶€ì¶œê·¼</button>
            <button onclick="" class="office_btn" style="margin-top: 10px; margin-bottom: 10px; border: none; box-shadow: 0 4px 5px rgba(0, 0, 0, 0.2);  background-color: red;"><i class="fa-solid fa-person-walking fa_xl" style="color: #fafafa;"></i><br>ì™¸ë¶€í‡´ê·¼</button>
          </div>
        </dl>
      </div><!--// contents-wrap end-->
    </div> <!--//layout-contents end -->
  </div> <!-- //mobile-layout-contents end-->
</div> <!-- //page-wrapper end-->
<script th:inline="javascript">
  // // Thymeleafì—ì„œ ê°’ ì„¤ì •: Null ì²´í¬ì™€ ê¸°ë³¸ê°’ ì²˜ë¦¬
  // var groupid = [[${session.groupid != null ? session.groupid : 'null'}]];
  // var id = /*[[${id != null ? id : 'null'}]]*/;
  // var groupname = /*[[${groupname != null ? groupname : 'null'}]]*/;
  // var username = /*[[${username != null ? username : 'null'}]]*/;
  //
  // // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ê°’ ìœ ì§€ (null ë˜ëŠ” ë¹ˆ ë¬¸ìì—´ì€ ì €ì¥í•˜ì§€ ì•ŠìŒ)
  // if (groupid && groupid !== 'null') localStorage.setItem('groupid', groupid);
  // if (id && id !== 'null') localStorage.setItem('id', id);
  // if (username && username !== 'null') localStorage.setItem('username', username);
  // if (groupname && groupname !== 'null') localStorage.setItem('groupname', groupname);
</script>
<script type="text/javascript">
  // í˜„ì¬ ë‚ ì§œ ì„¤ì • (í˜ì´ì§€ ë¡œë”© ì‹œ 1íšŒ ì„¤ì •)
  // ìš”ì¼ ì´ë¦„ ë°°ì—´
  const weekDays = ["ì¼", "ì›”", "í™”", "ìˆ˜", "ëª©", "ê¸ˆ", "í† "];

  const updateDate = () => {
    const today = new Date();
    const year = today.getFullYear();
    const month = String(today.getMonth() + 1).padStart(2, '0');
    const date = String(today.getDate()).padStart(2, '0');
    const weekDay = weekDays[today.getDay()];
    document.getElementById('searchDate').innerText = `${year}.${month}.${date}(${weekDay})`;
  };
  // ğŸ”„ 5ì´ˆë§ˆë‹¤ IP ì£¼ì†Œ ì¡°íšŒ
  setInterval(() => {
    fetch('https://api.ipify.org?format=json')
            .then(response => response.json())
            .then(data => {
              // IP ì£¼ì†Œë¥¼ í™”ë©´ì— ì—…ë°ì´íŠ¸
              document.getElementById('ipAddress').innerText = 'IP : ' + data.ip;
              if(data.ip === '106.240.249.66') {
                console.log('ì‚¬ë‚´ IP í™•ì¸')
                document.getElementById('inside').style.display='flex';
              }else{
                console.log('ì™¸ë¶€ IP í™•ì¸')
                document.getElementById('inside').style.display='flex';
              }
            })
            .catch(error => {
              console.error("IP ì¡°íšŒ ì¤‘ ì—ëŸ¬ ë°œìƒ: ", error);
            });
  }, 5000); // 5000ms = 5ì´ˆ
  // ì‹œê°„ ì—…ë°ì´íŠ¸
  // ğŸ”„ 5ì´ˆë§ˆë‹¤ ì‹œê°„ ì—…ë°ì´íŠ¸
  setInterval(() => {
    const now = new Date();

    // ì‹œê°„, ë¶„, ì´ˆ êµ¬í•˜ê¸°
    let hours = now.getHours();
    const minutes = String(now.getMinutes()).padStart(2, '0');
    const seconds = String(now.getSeconds()).padStart(2, '0');

    // AM/PM ì„¤ì •
    const ampm = hours >= 12 ? 'PM' : 'AM';

    // 12ì‹œê°„ í˜•ì‹ìœ¼ë¡œ ë³€ê²½
    hours = hours % 12;
    hours = hours ? hours : 12; // 0ì‹œë¥¼ 12ì‹œë¡œ ë³€ê²½

    // ì‹œê°„ í¬ë§· ì„¤ì •
    const formattedTime = `${hours}:${minutes}:${seconds} ${ampm}`;

    // í™”ë©´ì— ì—…ë°ì´íŠ¸
    document.getElementById('searchTime').innerText = formattedTime;
  }, 5000); // 5000ms = 5ì´ˆ


  updateDate();

  $(document).ready(function (e) {
    // ìœ ì €ì •ë³´ í™•ì¸
    function searchMainData(){
      let _this = this;
      let url = '/api/mobile_main/read_userInfo'
      let data = {
        'cboYear': $("#cboYear").val(),
        'cboCompany': $("#cboCompanyHidden").val()
      }
      let fnsuccess = function (result) {
        if (result != null) {
          _this.viewData.sourceCollection = result.data;
        }
      };
      AjaxUtil.getAsyncData(url, data, fnsuccess);
    }
    searchMainData();
  })

  // ì¶œê·¼/í‡´ê·¼ ë“±ë¡
  function submitCommute(){
    let _this = this;
    let url = '/api/mobile_main/read_userInfo'
    let data = {
      'cboYear': $("#cboYear").val(),
      'cboCompany': $("#cboCompanyHidden").val()
    }
    let fnsuccess = function (result) {
      if (result != null) {
        _this.viewData.sourceCollection = result.data;
      }
    };
    AjaxUtil.getAsyncData(url, data, fnsuccess);
  }

</script>
</body>
</html>
