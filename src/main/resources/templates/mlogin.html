<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1, minimum-scale=1, maximum-scale=1">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="-1">
  <link rel="icon" type="image/png" href="/images/logo/actas_log_a.png">
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
  <link rel="stylesheet" href="/resource/ax5ui/ax5ui.all.css" />
  <link rel="stylesheet" href="/assets_mobile/css/import.css"/>
  <!--    <link rel="stylesheet" href="/css/login_mes.css" />-->
  <script src="/assets_mobile/js/ui.js"></script> <!-- Common js -->
  <title>ACTAS ERP</title>
</head>
<style>
  /* ê³µí†µ Modal ìŠ¤íƒ€ì¼ */
  .modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.5);
  }

  /* ê³µí†µ Modal ì»¨í…ì¸  ìŠ¤íƒ€ì¼ */
  .modal-content {
    background: white;
    border-radius: 8px;
    margin: 10% auto;
    padding: 20px;
    width: 400px;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
    position: relative;
    top: 15%;
  }

  /* Form ìŠ¤íƒ€ì¼ */
  #idFindForm,
  #pwFindForm {
    display: flex;
    flex-direction: column;
  }

  /* ë¼ë²¨ê³¼ ì¸í’‹ë°•ìŠ¤ë¥¼ í•œ ì¤„ì— ë°°ì¹˜ */
  #idFindForm .form-group,
  #pwFindForm .form-group {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
  }

  #idFindForm .form-group label,
  #pwFindForm .form-group label {
    width: 100px; /* ë¼ë²¨ì˜ ë„ˆë¹„ë¥¼ ê³ ì • */
    margin-right: 10px;
  }

  #idFindForm .form-group input,
  #pwFindForm .form-group input {
    flex: 1; /* ì…ë ¥ ë°•ìŠ¤ê°€ ê°€ëŠ¥í•œ í•œ ë„“ê²Œ */
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
  }

  #idFindForm button,
  #pwFindForm button {
    padding: 10px;
    border: none;
    background-color: #4CAF50;
    color: white;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 20px; /* ë²„íŠ¼ì„ ìœ„ì˜ ì…ë ¥ í•„ë“œì™€ ë–¨ì–´ì§€ê²Œ */
  }

  #idFindForm button:hover,
  #pwFindForm button:hover {
    background-color: #45a049;
  }

  @keyframes shake {
    0% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    50% { transform: translateX(5px); }
    75% { transform: translateX(-5px); }
    100% { transform: translateX(0); }
  }

  #ErrMsg.show {
    display: block;
    animation: shake 0.5s ease;
  }
  #loader2 {
    position: fixed;
    top: 0;
    left: 0;
    background-color: #fff;
    opacity: 0.8;
    width: 100%;
    height: 100%;
    display: none; /* ì²˜ìŒì—ëŠ” ìˆ¨ê¹€ ìƒíƒœ */
    z-index: 9000;
  }

  #loader2 .loader {
    position: fixed;
    top: calc(50% - 48px);
    left: calc(50% - 48px);
    width: 96px;
    height: 96px;
    border-radius: 12px;
    background-color: rgba(0, 0, 0, 0.5);
  }

  #loader2 .loader > span {
    position: fixed;
    top: calc(50% - 27px);
    left: calc(50% - 27px);
    width: 48px;
    height: 48px;
    border: 3px solid #FFF;
    border-radius: 50%;
    display: inline-block;
    animation: rotation 1s linear infinite;
  }

  #loader2 .loader > span::after {
    content: '';
    box-sizing: border-box;
    position: absolute;
    left: 0;
    top: 0;
    background: #5ddfde;
    width: 16px;
    height: 16px;
    transform: translate(-50%, 50%);
    border-radius: 50%;
  }

  @keyframes rotation {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  .ax5-ui-dialog .ax-dialog-body .ax-dialog-msg{
    padding-bottom: 20px;
  }

  .ax5-ui-dialog .ax-dialog-header{
    display: none;
  }

  .zoom-img {
    transition: transform 0.3s ease;
  }

  .zoom-img:hover {
    transform: scale(1.1); /* 1.1ë°° í™•ëŒ€ */
    cursor: pointer;
  }
</style>
<body>
<div id="loader2">
  <div class="loader">
    <span></span>
  </div>
</div>
<div class="mobile-wrapper page-login"><!-- â˜…í˜ì´ì§€ Classëª… -->
  <div class="mobile-login-wrap">
    <div class="login-wrap" style="box-shadow: none">
      <form method="post" class="form" role="form" id="loginFrm" style=" margin: 0 auto;" action="/postLogin">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <div class="login-logo">
          <h1>(ì£¼)ì—‘íƒ€ìŠ¤ ê·¼íƒœê´€ë¦¬</h1>
        </div>
        <div class="login-form" style="width: 100%">
          <dl>
            <dt><label for="loginId">ì•„ì´ë””</label></dt>
            <dd>
              <input type="text" id="loginId" name="username" required autofocus title="ì•„ì´ë”” ì…ë ¥" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
            </dd>
            <!-- ì—ëŸ¬ë©”ì‹œì§€ ì¶œë ¥ -->
            <dd class="hint-red" id="hint-red" style="display: none">
              <img src="/images/icon/ico-info-red.svg" alt="íŒíŠ¸ë©”ì„¸ì§€">
              ê³„ì •ì´ ë§ì§€ ì•ŠìŠµë‹ˆë‹¤.
            </dd>
          </dl>
          <dl>
            <dt><label for="loginPwd">ë¹„ë°€ë²ˆí˜¸</label></dt>
            <dd>
              <input type="password" id="loginPwd" name="password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”" required title="íŒ¨ìŠ¤ì›Œë“œ ì…ë ¥" autocomplete="off">
            </dd>
          </dl>
          <div class="check-save">
            <input type="checkbox" id="login_chk">
            <label for="login_chk">ì•„ì´ë”” ì €ì¥</label>
          </div>
          <div style="display: flex">
          <button type="button" class="btn-login" id="productionManage" style="width: 45%;">ìƒì‚°ê´€ë¦¬</button>
          <button type="submit" class="btn-login" id="AttendanceManage" style="width: 45%; margin-left:auto; background-color: #da5959">ê·¼íƒœê´€ë¦¬</button>
          <!--                        <button type="button" class="btn-login" id="testBtn">test</button>-->
          </div>
<!--          <ul class="btn-login-etc">-->
<!--            <li>-->
<!--              <a class="btn btn-popup-open" data-popup="popup1" title="ì‚¬ìš©ìì‹ ì²­" onclick="RegisterUser()">ë“±ë¡í™•ì¸</a>-->
<!--            </li>-->
<!--&lt;!&ndash;            <li>&ndash;&gt;-->
<!--&lt;!&ndash;              <a href="#" class="btn btn-popup-open" data-popup="popup2" title="ì•„ì´ë”” ì°¾ê¸°" onclick="openModal()">ì•„ì´ë”” ì°¾ê¸°</a>&ndash;&gt;-->
<!--&lt;!&ndash;            </li>&ndash;&gt;-->
<!--            <li>-->
<!--              <a href="#" class="btn" title="ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°" onclick="openPwModal()">ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</a>-->
<!--            </li>-->
<!--          </ul>-->
        </div>
      </form>
    </div>
    <!-- <p class="copyright">â“’ Kt Corp. All rights reserved.</p> -->
  </div>
  <!-- [ì‚¬ìš©ìê¶Œí•œ] íŒì—…  -->
  <div class="dashboard-layout-popup">
    <div class="popup-overlay"  id="popup1"></div>
    <div class="popup-wrapper" id="wrapper1" style="width: 1100px">
      <div class="popup-title">
        <h3>ì‚¬ìš©ìê¶Œí•œì‹ ì²­</h3>
        <a onclick="RegisterUserClose()" title="íŒì—…ë‹«ê¸°" class="btn-popup-close">
          <img src="/images/icon/btn-popup-close.svg" alt="ë‹«ê¸°">
        </a>
      </div>
      <div class="popup-contents">
        <!--<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />-->
        <form id="bomForm">
          <div class="table-wrap">
            <table class="write-table">
              <caption>ì‚¬ìš©ìê¶Œí•œì‹ ì²­ í…Œì´ë¸”</caption>
              <colgroup>
                <col class="wp20">
                <col class="wp30">
                <col class="wp20">
                <col class="wp30">
              </colgroup>
              <tbody>
              <tr>
                <th>
                  <label for="">
                    ID
                  </label>
                </th>
                <td colspan="3">
                  <div class="input-clear">
                    <input type="text" id="id" name="id" class="wp50" style="width: 360px !important;">
                  </div>
                  <a href="#" class="btn" id="btnDuplicate">ì¤‘ë³µí™•ì¸</a>
                </td>
              </tr>
              <tr>
                <th>
                  <label for="password">
                    ë¹„ë°€ë²ˆí˜¸
                  </label>
                </th>
                <td>
                  <input type="password" id="password" name="password">
                </td>
                <th>
                  <label for="passwordchk">
                    ë¹„ë°€ë²ˆí˜¸í™•ì¸
                  </label>
                </th>
                <td>
                  <input type="password" id="passwordchk" name="passwordchk">
                </td>
              </tr>
              <tr>
                <th>
                  <label for="">
                    ì„±ëª…
                  </label>
                </th>
                <td colspan="3">
                  <div class="input-clear">
                    <input type="text" id="name" name="name">
                  </div>
                </td>
              </tr>
              <tr>
                <th>
                  <label>
                    í•¸ë“œí°
                  </label>
                </th>
                <td colspan="3">
                  <div class="input-clear">
                    <input type="text" id="tel" name="tel">
                  </div>
                </td>
              </tr>
              <tr>
                <th>
                  <label>
                    ì´ë©”ì¼
                  </label>
                </th>
                <td colspan="3">
                  <div class="input-clear">
                    <input type="text" id="email" name="email">
                    <button type="button" style="margin: 0 0 0 5px;width: 14.5%;background: white;color: #03428E;border: 1px solid #03428E;" id="BtnAuthenticationRegister">ì½”ë“œë°œê¸‰</button>
                  </div>

                </td>
              </tr>
              <tr>
                <th>
                  <label>
                    ì¸ì¦ì½”ë“œ
                  </label>
                </th>
                <td colspan="3">
                  <div class="input-clear">
                    <input type="text" id="AuthenticationCodeRegister" name="AuthenticationCodeRegister" required="" maxlength="38" autocomplete="off">
                    <button type="button" id="Authentication"
                            style="margin: 0 0 0 5px;width: 14.5%;background: white;color: #03428E;border: 1px solid #03428E;">ì½”ë“œì¸ì¦</button>
                  </div>

                  <div style="margin-top: 5px; display: inline-block;">
                    <span id="timer2" style="width: 10%;  text-align: right; color: red;"></span>
                  </div>
                </td>
              </tr>

              <!--                            <tr>-->
              <!--                                <th>-->
              <!--                                    <label>-->
              <!--                                        ë°œì „ì‹œì„¤-->
              <!--                                    </label>-->
              <!--                                </th>-->
              <!--                                <td colspan="3">-->
              <!--                                    <div class="fl-ac">-->
              <!--                                        <select class="wp25 mg-r5" id="firstSelect" name="spworkcd" onchange="updateNextSelect(this)">-->
              <!--                                            <option></option>-->
              <!--                                        </select>-->
              <!--                                        <select class="wp25 mg-r5" id="secondSelect" name="spcompcd" onchange="updateNextSelect2(this)">-->
              <!--                                            <option></option>-->
              <!--                                        </select>-->
              <!--                                        <select class="wp25 mg-r5" id="thirdSelect" name="spplancd">-->
              <!--                                            <option></option>-->
              <!--                                        </select>-->
              <!--                                        <button type="button" onclick="addselectField(this)" class="btn" id="z" style="width: 145px">ë°œì „ì‹œì„¤ ì¶”ê°€</button>-->
              <!--                                    </div>-->
              <!--                                </td>-->
              <!--                            </tr>-->
              <!--                            <tr>-->
              <!--                                <th>-->
              <!--                                    <label for="">-->
              <!--                                        ì‹ ì²­ì‚¬ìœ -->
              <!--                                    </label>-->
              <!--                                </th>-->
              <!--                                <td colspan="3">-->
              <!--                                    <div class="input-clear">-->
              <!--                                        <input type="text" id="reason" name="reason" class="wp100">-->
              <!--                                    </div>-->
              <!--                                </td>-->
              <!--                            </tr>-->
              </tbody>
            </table>
          </div>

        </form>
      </div>
      <div class="popup-button">
        <button class="btn-popup-close" onclick="RegisterUserClose()">ì·¨ì†Œ</button>
        <button class="btn-navy" id="btnSaveAuth">ê¶Œí•œì‹ ì²­</button>
      </div>
    </div>
  </div> <!-- //dashboard-layout-popup end -->
  <!--#############################################################################################  ì•„ì´ë””-->
  <div id="idFindModal" class="modal">
    <div class="modal-content">
      <h2 style="text-align: center;">ì•„ì´ë”” ì°¾ê¸°</h2>
      <form id="idFindForm">
        <div style="margin-top: 10px;">
          <label style="width: 15%;">ì´ë¦„: </label>
          <input type="text" id="usernm" name="usernm" required="" maxlength="20" autocomplete="off" style="width: 80%;">
        </div>
        <div style="margin-top: 10px;">
          <label style="width: 15%;">ì´ë©”ì¼: </label>
          <input type="email" id="mail" name="mail" required="" maxlength="30" autocomplete="off" style="width: 80%;">
        </div>
        <div class="hint-red" id="ErrMessage" style="margin: 5px auto 0;">
          <img src="/images/icon/ico-info-red.svg" alt="íŒíŠ¸ë©”ì„¸ì§€">ì‹ ì²­ì‹œ ë“±ë¡í•œ ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.
        </div>
        <div id="ErrMsg" style="margin-top: 10px;text-align: center; display: none; color: red;"><span>í•´ë‹¹ ì‚¬ìš©ìëŠ” ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</span></div>


        <div style="margin: 0 auto;">
          <button type="button" onclick="closeModal()" style="width: 100px;margin-right: 10px; background: white; border: 1px solid #03428E; border-radius: 3px; color: #03428E">ë‹«ê¸°</button>
          <button type="button" style="width: 100px; border: 1px solid white; border-radius: 3px; color: white; background: #03428E" id="btnSearch">ì•„ì´ë”” ì°¾ê¸°</button>
        </div>
      </form>
    </div>
  </div>

  <!--#############################################################################################  ë¹„ë°€ë²ˆí˜¸-->
  <div id="pwFindModal" class="modal">
    <div class="modal-content">
      <h2 style="text-align: center;">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</h2>
      <form id="pwFindForm">

        <div style="margin-top: 10px;">
          <label style="width: 15%;">ì•„ì´ë””: </label>
          <input type="text" id="userid" name="userid" required="" maxlength="20" autocomplete="off" style="width: 80%;">
        </div>

        <div style="margin-top: 10px;">
          <label style="width: 15%;">ì´ë©”ì¼: </label>
          <input type="email" id="mailAddres" name="mailAddres" required="" maxlength="20" autocomplete="off" style="width: 62%;">
          <button type="button" style="margin: 0px;width: 17%;background: white;color: #03428E;border: 1px solid #03428E;" id="BtnAuthentication">ì½”ë“œë°œê¸‰</button>
        </div>
        <div class="hint-red" style="margin: 5px auto 0;">
          <img src="/images/icon/ico-info-red.svg" alt="íŒíŠ¸ë©”ì„¸ì§€">ì‹ ì²­ì‹œ ë“±ë¡í•œ ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.
        </div>


        <div style="margin-top: 10px; text-align: center">
          <label style="width: 15%;">ì¸ì¦ì½”ë“œ: </label>
          <input type="text" id="AuthenticationCode" name="AuthenticationCode" required="" maxlength="20" autocomplete="off" style="width: 62%;">
          <button type="button" style="margin: 0px;width: 17%;background: white;color: #03428E;border: 1px solid #03428E;" id="Authentication_pw">ì½”ë“œì¸ì¦</button>
          <span id="timer" style="width: 10%; text-align: right; color: red;"></span>
        </div>

        <div style="margin-top: 10px;" id="PasswordInputDiv">
          <label style="width: 15%;">ë³€ê²½ ë¹„ë°€ë²ˆí˜¸: </label>
          <input type="password" id="PasswordChange" name="PasswordChange" autocomplete="off" style="width: 70%;border: none;border-bottom: 1px solid;
                       border-radius: 0px;">
        </div>

        <div style="margin-top: 10px;" id="PasswordChkInputDiv">
          <label style="width: 15%;">ë¹„ë°€ë²ˆí˜¸ í™•ì¸: </label>
          <input type="password" id="PasswordChangeChk" name="PasswordChangeChk" autocomplete="off" style="width: 70%;border: none;border-bottom: 1px solid;
                       border-radius: 0px;">
        </div>



        <div style="margin: 0 auto;">
          <button type="button" onclick="closePwModal()" style="width: 100px; margin-right: 10px; background: white; border: 1px solid #03428E; border-radius: 3px; color: #03428E">ë‹«ê¸°</button>
          <button type="button" style="width: 100px; border: 1px solid white; border-radius: 3px; color: white; background: #03428E" id="btnPwSearch">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</button>
        </div>
      </form>
    </div>
  </div>
</div>

<script type="text/javascript" src="/resource/jquery.min.js"></script>
<script type="text/javascript" src="/resource/jquery-validation/1.17.0/jquery.validate.min.js"></script>
<script type="text/javascript" src="/resource/ax5ui/ax5ui.all.min.js"></script>
<script type="text/javascript" src="/resource/moment.min.js"></script>
<script type="text/javascript" src="/js/js.cookie.js"></script>
<script type="text/javascript" src="/js/common.js?v=1050"></script>
<script type="text/javascript" src="/resource/JavaScript-Templates/tmpl.js"></script>

<script type="text/javascript" src="/js/ax5commUtil.js?v=1050"></script>
<script type="text/javascript">

  function openPopup(url) {
    // ìƒˆ ì°½ ì—´ê¸°
    window.open(url, '_blank',
            'width=1000,height=1000,toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes');
  }



  // ë¡œë”©ë°”ë¥¼ ìˆ¨ê¸°ëŠ” í•¨ìˆ˜
  function hideLoader() {
    document.getElementById('loader2').style.display = 'none';
  }




  function openPwModal() {
    document.getElementById('pwFindModal').style.display = 'block';
  }

  function closePwModal() {
    document.getElementById('pwFindModal').style.display = 'none';
  }


  //##############################################  ì•„ì´ë”” ì°¾ê¸° ëª¨ë‹¬
  function openModal() {
    document.getElementById('idFindModal').style.display = 'block';
  }

  function closeModal() {
    document.getElementById('idFindModal').style.display = 'none';
  }

  //document.querySelector('.close').onclick = closeModal;
  //##############################################  ì•„ì´ë”” ì°¾ê¸° ëª¨ë‹¬ ë


  <!-- ë°œì „ì‹œì„¤ ì¶”ê°€ ë²„íŠ¼ ì´ë²¤íŠ¸-->
  // function addselectField(button) {
  //     // ìƒˆë¡œìš´ td ìš”ì†Œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
  //     var newTd = document.createElement('div');
  //     newTd.className = 'fl-ac new-fl-ac';
  //
  //     if(!window.cloneCounter){
  //         window.cloneCounter = 1;
  //     } else {
  //         window.cloneCounter++;
  //     }
  //
  //     // ìƒˆë¡œìš´ input ìš”ì†Œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
  //     var originalSelect1 = document.getElementById('firstSelect');
  //     var newInput = originalSelect1.cloneNode(true);
  //     newInput.name = 'spworkcd';
  //     newInput.id = originalSelect1.id + window.cloneCounter;
  //     // newInput.className = 'wp100';
  //     newInput.type = 'select';
  //     newInput.width = 180;
  //
  //     var originalSelect2 = document.getElementById('secondSelect');
  //     var newInput2 = originalSelect2.cloneNode(true);
  //     newInput2.name = 'spcompcd';
  //     // newInput2.className = 'wp100';
  //     newInput2.type = 'select';
  //     newInput2.id = originalSelect2.id + window.cloneCounter;
  //     newInput2.width = 180;
  //
  //     var originalSelect3 = document.getElementById('thirdSelect');
  //     var newInput3 = originalSelect3.cloneNode(true);
  //     newInput3.name = 'spplancd';
  //     // newInput2.className = 'wp100';
  //     newInput3.type = 'select';
  //     newInput3.id = originalSelect3.id + window.cloneCounter;
  //     newInput3.width = 180;
  //
  //     // ì‚­ì œ ë²„íŠ¼ì„ ìƒì„±í•©ë‹ˆë‹¤.
  //     var deleteButton = document.createElement('button');
  //     deleteButton.textContent = 'ë°œì „ì‹œì„¤ ì‚­ì œ';
  //     deleteButton.onclick = function() {
  //         deleteSelectField(newInput); // ì‚­ì œ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ í•´ë‹¹ ì…ë ¥ í•„ë“œë¥¼ ì‚­ì œí•˜ëŠ” í•¨ìˆ˜ í˜¸ì¶œ
  //         deleteSelectField(newInput2);
  //         deleteSelectField(newInput3);
  //     };
  //     deleteButton.style.marginLeft = '8px';
  //     deleteButton.style.color = 'red';
  //     deleteButton.style.marginTop = '5px';
  //     // ìƒˆë¡œìš´ tdì— input ìš”ì†Œì™€ ì‚­ì œ ë²„íŠ¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
  //     newTd.appendChild(newInput);
  //     newTd.appendChild(newInput2);
  //     newTd.appendChild(newInput3);
  //     newTd.appendChild(deleteButton);
  //
  //     // í´ë¦­ëœ ë²„íŠ¼ì˜ ë¶€ëª¨ td ìš”ì†Œë¥¼ ì°¾ìŠµë‹ˆë‹¤.
  //     var parentTd = button.parentElement;
  //
  //     // ë¶€ëª¨ td ìš”ì†Œ ë‹¤ìŒì— ìƒˆë¡œìš´ td ìš”ì†Œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
  //     parentTd.parentElement.insertBefore(newTd, parentTd.nextSibling);
  // }

  // function deleteSelectField(inputField) {
  //     // ì…ë ¥ í•„ë“œì˜ ë¶€ëª¨ ìš”ì†Œ(td)ë¥¼ ì°¾ì•„ì„œ ì‚­ì œí•©ë‹ˆë‹¤.
  //     var tdToDelete = inputField.parentElement;
  //     tdToDelete.parentElement.removeChild(tdToDelete);
  // }


  // function updateNextSelect(param) {
  //     let code = param.value;
  //
  //     // paramì˜ ë‹¤ìŒ í˜•ì œ ìš”ì†Œë¥¼ ì°¾ìŠµë‹ˆë‹¤.
  //     let nextSelect = $(param).next('select');
  //
  //     if (nextSelect.length) {
  //
  //         $.ajax({
  //             url: '/user-codes/code_spcompcd',
  //             type: 'GET',
  //             data: { code: code },
  //             success: function(data) {
  //                 nextSelect.empty();
  //                 nextSelect.append('<option value="">ì„ íƒí•˜ì„¸ìš”</option>');
  //                 data.forEach(function(item) {
  //                     nextSelect.append('<option value="' + item.dtlcd + '">' + item.spcompnm + '</option>');
  //                 });
  //             },
  //             error: function(xhr, status, error) {
  //                 // í†µì‹  ì‹¤íŒ¨ ì‹œ ì²˜ë¦¬
  //
  //
  //                 // ì„ íƒ ì˜µì…˜ì„ ë¹„ìš°ê±°ë‚˜ ê¸°ë³¸ ì˜µì…˜ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  //                 nextSelect.empty();
  //                 nextSelect.append('<option value=""></option>');
  //             }
  //         });
  //     } else {
  //         console.error('ë‹¤ìŒ select ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
  //     }
  // }



  const requiredFields = [
    // { id: 'agency', name: 'ì†Œì†ì‚¬' },
    // { id: 'agencyDepartment', name: 'ì†Œì†ë¶€ì„œ' },
    { id: 'name', name: 'ì„±ëª…' },
    { id: 'id', name: 'ID' },
    { id: 'password', name: 'ë¹„ë°€ë²ˆí˜¸' },
    { id: 'passwordchk', name: 'ë¹„ë°€ë²ˆí˜¸í™•ì¸' },
    /*{ id: 'authType', name: 'ê¶Œí•œê·¸ë£¹' },*/
    // { id: 'firstSelect', name: 'ê´€í• ì§€ì—­' },
    // { id: 'secondSelect', name: 'ë°œì „ì‚°ë‹¨' },
    // { id: 'thirdSelect', name: 'ë°œì „ì†Œ' }
  ];

  // í•„ë“œëª…ê³¼ nameê°’ìœ¼ë¡œ ìœ íš¨ì„± ê²€ì‚¬í•  í•„ë“œ ë°°ì—´
  // const nameBasedFields = [
  //     { name: 'spworkcd', displayName: 'ê´€í• ì§€ì—­' },
  //     { name: 'spcompcd', displayName: 'ë°œì „ì‚°ë‹¨' },
  //     { name: 'spplancd', displayName: 'ë°œì „ì†Œ' }
  // ];

  const clearFieldList = ['name', 'id', 'password', 'passwordchk',
    'firstSelect', 'secondSelect', 'thirdSelect', 'tel', 'level', 'email',
    'reason', 'AuthenticationCodeRegister']

  // ìœ íš¨ì„± ê²€ì‚¬
  function validateFields() {
    for (let field of requiredFields) {
      if (!validateFieldById(field.id, field.name)) {
        return false;
      }
    }

    for (let field of nameBasedFields) {
      if (!validateFieldsByName(field.name, field.displayName)) {
        return false;
      }
    }

    return true;  // ëª¨ë“  ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í†µê³¼í–ˆì„ ê²½ìš°
  }

  // IDë¡œ ìœ íš¨ì„± ê²€ì‚¬ í•¨ìˆ˜
  function validateFieldById(id, fieldName) {
    const value = document.getElementById(id)?.value.trim();

    if (!value) {
      Alert.alert('', `${fieldName}ì´(ê°€) ì…ë ¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.`);
      return false;
    }

    return true;
  }

  // name ì†ì„±ìœ¼ë¡œ ìœ íš¨ì„± ê²€ì‚¬ í•¨ìˆ˜
  function validateFieldsByName(name, fieldName) {
    const elements = document.getElementsByName(name);

    if (elements.length === 0) {
      console.error(`ì´ë¦„ì´ ${name}ì¸ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`);
      return false;
    }

    for (let element of elements) {
      const value = element.value.trim();
      if (!value) {
        Alert.alert('', `${fieldName}ì´(ê°€) ì…ë ¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.`);
        return false;
      }
    }

    return true;
  }


  function RegisterUser(){
    let popup = document.getElementById('popup1');
    let wrapper = document.getElementById('wrapper1');

    popup.style.display = 'block';
    wrapper.style.display = 'block';
  }

  function RegisterUserClose(){
    let popup = document.getElementById('popup1');
    let wrapper = document.getElementById('wrapper1');

    popup.style.display = 'none';
    wrapper.style.display = 'none';
  }


  function initializeSelect({
                              url,               // API ì—”ë“œí¬ì¸íŠ¸ URL
                              params = {},       // ìš”ì²­ ë§¤ê°œë³€ìˆ˜ (ê¸°ë³¸ê°’ì€ ë¹ˆ ê°ì²´)
                              elementId,         // ì…€ë ‰íŠ¸ ìš”ì†Œì˜ ID
                              defaultOption = "ì„ íƒí•˜ì„¸ìš”",  // ê¸°ë³¸ ì˜µì…˜ í…ìŠ¤íŠ¸
                              valueField = "code",    // ë°ì´í„°ì˜ ê°’ í•„ë“œ ì´ë¦„
                              textField = "value"     // ë°ì´í„°ì˜ í‘œì‹œ í•„ë“œ ì´ë¦„
                            }) {
    $.get(url, params, function(data){
      let selectElement = $(`#${elementId}`);
      selectElement.empty();
      selectElement.append(`<option value="">${defaultOption}</option>`);
      data.forEach(function(item) {
        selectElement.append(`<option value="${item[valueField]}">${item[textField]}</option>`);
      });
    });
  }




  var userinfo = {
    username: '',
    login_id: '',
    group_code: '',
    read_flag: '{',
    write_flag: '',
    ip_address: '',
    crtfcKey: ''
  };

  var gui = {
    gui_code: '',
    template_key: '',
    action: '',
  };

  userinfo.can_read = function () {
    let result = false;
    if (userinfo.read_flag == 'True') {
      result = true;
    }
    return result;
  };

  userinfo.can_write = function () {
    let result = false;
    if (userinfo.write_flag == 'True') {
      result = true;
    }
    return result;
  };


</script>

<script type="text/javascript">
  var isChangeLang = 'N';


  function showLoader() {
    document.getElementById('loader2').style.display = 'block';
  }

  function emailValidate(emailVal){
    const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;

    return emailPattern.test(emailVal);
  }

  $(document).ready(function () {

    let activeTimerInterval; // ì „ì—­ ë³€ìˆ˜ë¡œ interval IDë¥¼ ì €ì¥

    function startTimer(duration, ele) {
      // ê¸°ì¡´ íƒ€ì´ë¨¸ê°€ ìˆìœ¼ë©´ ì œê±°
      if (activeTimerInterval) {
        clearInterval(activeTimerInterval);
      }

      let timer = duration, minutes, seconds;
      let timerElement = document.getElementById(ele);

      timerElement.textContent = '';

      activeTimerInterval = setInterval(function () {
        minutes = Math.floor(timer / 60);
        seconds = Math.floor(timer % 60);

        // ë¶„ê³¼ ì´ˆê°€ 10ë³´ë‹¤ ì‘ìœ¼ë©´ ì•ì— 0ì„ ë¶™ì„
        minutes = minutes < 10 ? "0" + minutes : minutes;
        seconds = seconds < 10 ? "0" + seconds : seconds;

        // íƒ€ì´ë¨¸ ìš”ì†Œì— í˜„ì¬ ì‹œê°„ í‘œì‹œ
        timerElement.textContent = 'ì½”ë“œìœ íš¨ì‹œê°„: ' + minutes + ":" + seconds ;

        // íƒ€ì´ë¨¸ë¥¼ 1ì´ˆ ì¤„ì„
        timer--;

        // íƒ€ì´ë¨¸ê°€ 0ë³´ë‹¤ ì‘ìœ¼ë©´ ì¢…ë£Œ
        if (timer < 0) {
          clearInterval(activeTimerInterval);
          timerElement.textContent = "ì‹œê°„ ì´ˆê³¼"; // íƒ€ì´ë¨¸ê°€ ëë‚˜ë©´ ë©”ì‹œì§€ í‘œì‹œ
        }
      }, 1000);
    }


    // const selectConfigurations = [
    //     {  url: '/user-codes/parent',params: { parentId: 154 },elementId: 'agency', valueField: "id"},
    //     {  url: '/user-codes/parent',params: { parentId: 110 },elementId: 'firstSelect', valueField: "code"},
    //     /*{  url: '/user-auth/type',params: {},elementId: 'authType',valueField: "code",textField: 'name'}*/
    // ];
    // selectConfigurations.forEach(config => initializeSelect(config));

    let emailAuthCode = false;
    let emailAuthCode_pw = false;

    let _csrf = document.getElementsByName('_csrf');
    let _CsrfValue = _csrf[0].value;

    let btnAuthentication = $('#Authentication');
    btnAuthentication.click(function (e){
      let emailDom = document.getElementById('email');
      let email = emailDom.value;
      let AuthenticationCode = document.getElementById('AuthenticationCodeRegister').value;
      let data = { email, AuthenticationCode, type: 'new' }


      let fnSuccess = function (res){
        if(res.success){
          emailAuthCode = true;
          Alert.alert('', res.message);
          emailDom.readOnly = true;
          document.getElementById('timer2').style.display = 'none';

        }else{
          emailAuthCode = false;
          Alert.alert('', res.message);
        }
      }
      AjaxUtil.postAsyncData("/authentication", data, fnSuccess);
    })

    $('#Authentication_pw').click(function(e){
      let emailDom = document.getElementById('mailAddres');
      let email = emailDom.value;
      let AuthenticationCode = document.getElementById('AuthenticationCode').value;
      let data = { email, AuthenticationCode, type : 'password' }

      let fnSuccess = function (res) {
        if(res.success){
          emailAuthCode_pw = true;
          Alert.alert('', res.message);
          emailDom.readOnly = true;
          document.getElementById('timer').style.display = 'none';
        }else{
          emailAuthCode_pw = false;
          Alert.alert('', res.message);

        }
      }
      AjaxUtil.postAsyncData("/authentication", data, fnSuccess);

    })


    //ì•„ì´ë”” ì¤‘ë³µí™•ì¸ ì‹ ì²­
    let btnDuplicate = $('#btnDuplicate');
    btnDuplicate.click(function (e){

      let userid = document.getElementById('id').value;
      if(userid.trim() === '' || userid === null){
        Alert.alert('', 'ë¹ˆ ê°’ì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.');
        return;
      }
      let data = {  userid }

      let fnSuccess = function (res) {
        if(res.success){
          Alert.alert('', res.message);

        } else if (!res.success){
          Alert.alert('', res.message);
        }
      };
      AjaxUtil.postAsyncData("/useridchk", data, fnSuccess);

    })

    //ì•„ì´ë”” ì°¾ê¸°
    $('#btnSearch').click(function (e){

      const errMsgDiv = document.getElementById('ErrMsg');
      const errMsgSpan = errMsgDiv.querySelector('span');

      errMsgDiv.style.display = 'none';
      errMsgDiv.style.color = 'red';
      errMsgDiv.classList.remove('show');
      errMsgSpan.textContent = 'í•´ë‹¹ ì‚¬ìš©ìëŠ” ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';

      let usernm = document.getElementById('usernm').value;
      let mail = document.getElementById('mail').value;

      if(usernm.trim().length === 0 || mail.trim().length === 0){
        Alert.alert('', 'ë¹ˆ ê°’ì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.');
        return false;
      }


      if(!emailValidate(mail.trim()))
      { Alert.alert('', 'ìœ íš¨í•œ ì´ë©”ì¼ í˜•ì‹ì„ ì…ë ¥í•˜ì„¸ìš”.'); return false; }

      let data = { usernm, mail, _CsrfValue }

      let fnSuccess = function (res){
        if(res.success){
          if (Array.isArray(res.data)) {
            errMsgSpan.textContent = res.data.join(', ') + 'ì…ë‹ˆë‹¤.'; // ê° ë°°ì—´ ìš”ì†Œë¥¼ ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ì—¬ í‘œì‹œ
          } else {
            errMsgSpan.textContent = res.data + 'ì…ë‹ˆë‹¤.'; // ë°°ì—´ì´ ì•„ë‹ˆë©´ ê·¸ëŒ€ë¡œ í‘œì‹œ
          }
          errMsgDiv.style.display = 'block';
          errMsgDiv.style.color = 'black';
          errMsgDiv.classList.add('show');
        } else if (!res.success){

          errMsgDiv.style.display = 'block';
          errMsgDiv.classList.add('show');

          errMsgDiv.addEventListener('animationend', function() {
            errMsgDiv.classList.remove('show');
          });

        }
      };
      AjaxUtil.postAsyncData("/user-auth/searchAccount", data, fnSuccess, function(){ Alert.alert('', 'ì„œë²„í†µì‹  ì‹¤íŒ¨') });
    })

    //ë¹„ë°€ë²ˆí˜¸  ì°¾ê¸° > ì´ë©”ì¼ ì¸ì¦
    $('#BtnAuthentication').click(function (e){
      let user = document.getElementById('userid');
      let usernm = user.value;

      let email = document.getElementById('mailAddres');
      let mail   = email.value;
      let content = "ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •"

      if(usernm.trim().length === 0){ Alert.alert('', 'ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'); user.focus(); return;}
      else if(mail.trim().length === 0){ Alert.alert('', 'ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.'); email.focus();  return;}

      if(!emailValidate(mail.trim())){Alert.alert('', 'ìœ íš¨í•œ ì´ë©”ì¼ í˜•ì‹ì„ ì…ë ¥í•˜ì„¸ìš”.'); email.focus();  return false; }
      let data = { usernm, mail, content, type : "password" }
      showLoader();

      let fnSuccess = function (res){
        if(res.success){
          hideLoader();
          $('#userid').attr('readonly', true);

          Alert.alert('', res.message, function(e){

            startTimer(180, 'timer');
          });
        }
        else if(!res.success){
          hideLoader();
          Alert.alert('', res.message, function(){});

        }
      };
      AjaxUtil.postAsyncData("/user-auth/AuthenticationEmail", data, fnSuccess, function(){hideLoader(); Alert.alert('', 'ì„œë²„í†µì‹  ì‹¤íŒ¨');});
    })

    $('#BtnAuthenticationRegister').click(function (e){

      console.log('í´ë¦­');
      let email = document.getElementById('email');
      let mail   = email.value;

      let usernm = document.getElementById('name').value;
      let content = "ì‚¬ìš©ìê¶Œí•œì‹ ì²­";


      if(mail.trim().length === 0){ Alert.alert('', 'ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.'); email.focus();  return;}
      if(!emailValidate(mail.trim())){ Alert.alert('', 'ìœ íš¨í•œ ì´ë©”ì¼ í˜•ì‹ì„ ì…ë ¥í•˜ì„¸ìš”.'); email.focus();  return false; }
      let data = {  usernm : usernm || "ì‹ ê·œì‚¬ìš©ì", mail, content, type: "new" }
      showLoader();
      let fnSuccess = function (res){
        if(res.success){
          hideLoader();

          Alert.alert('', res.message, function(e){

            startTimer(180, 'timer2');
          });
        }
        else if(!res.success){
          hideLoader();
          Alert.alert('', res.message, function(){});

        }
      };
      AjaxUtil.postAsyncData("/user-auth/AuthenticationEmail", data, fnSuccess, function(){hideLoader(); Alert.alert('', 'ì„œë²„í†µì‹  ì‹¤íŒ¨');});
    });



    //ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
    $('#btnPwSearch').click(function(){

      const authCode = $('#AuthenticationCode').val().trim();
      const email = $('#mailAddres').val().trim();
      const password = $('#PasswordChange').val().trim();
      const passwordChk = $('#PasswordChangeChk').val().trim();
      const userid = $('#userid').val().trim();

      if(!emailAuthCode_pw){
        Alert.alert('', 'ì½”ë“œê°€ ì¸ì¦ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
        return;
      }
      if (!authCode) {
        Alert.alert('', 'ì¸ì¦ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        $('#AuthenticationCode').focus();
        return;
      }
      if (!email) {
        Alert.alert('', 'ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        $('#mailAddres').focus();
        return;
      }
      if (!password) {
        Alert.alert('', 'ë³€ê²½í•  ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        $('#PasswordChange').focus();
        return;
      }
      if (!passwordChk) {
        Alert.alert('', 'ë¹„ë°€ë²ˆí˜¸ í™•ì¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        $('#PasswordChangeChk').focus();
        return;
      }
      if (!userid) {
        Alert.alert('', 'ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        $('#userid').focus();
        return;
      }
      if (password !== passwordChk) {
        Alert.alert('', 'ë³€ê²½ ë¹„ë°€ë²ˆí˜¸ì™€ í™•ì¸ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
        return;
      }
      if(!emailValidate(email.trim())){Alert.alert('', 'ìœ íš¨í•œ ì´ë©”ì¼ í˜•ì‹ì„ ì…ë ¥í•˜ì„¸ìš”.'); email.focus();  return; }

      const data = { code: authCode, _CsrfValue, mail: email, password: password, userid : userid };

      const fnSuccess = function (res) {
        Alert.alert('', res.message, function(){
          emailAuthCode_pw = false;
          location.reload(); });
      };

      AjaxUtil.postAsyncData("/user-auth/verifyCode", data, fnSuccess, function () {
        hideLoader();
        Alert.alert('', 'ì„œë²„ í†µì‹  ì‹¤íŒ¨');
      });

    })

    //ê¶Œí•œì‹ ì²­ ë²„íŠ¼ í´ë¦­
    let btnRegistersend = $('#btnSaveAuth');

    btnRegistersend.click(function (e) {

      const authCode = $('#AuthenticationCodeRegister').val().trim();
      if (!authCode) {
        Alert.alert('', 'ì¸ì¦ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        $('#AuthenticationCodeRegister').focus();
        return;
      }

      /*let authType = document.getElementById('authType');
      let authTypeText = authType.options[authType.selectedIndex].text;*/

      if (!validateFields()) {
        return false;
      }

      if(!emailAuthCode){
        Alert.alert('', 'ì½”ë“œê°€ ì¸ì¦ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
        return;
      }


      const emailInput = document.getElementById('email');
      const emailValue = emailInput.value.trim();

      if (!emailValidate(emailValue.trim()))
      { Alert.alert('', 'ìœ íš¨í•œ ì´ë©”ì¼ í˜•ì‹ì„ ì…ë ¥í•˜ì„¸ìš”.'); return false; }


      let password = document.getElementById('password').value;
      let password2 = document.getElementById('passwordchk').value;

      if(password !== password2){
        Alert.alert('', 'ë¹„ë°€ë²ˆí˜¸ê°€ ë§ì§€ ì•ŠìŠµë‹ˆë‹¤.');
        return;
      }

      function extractSelectValues(selectName) {
        let inputs = document.querySelectorAll(`select[name="${selectName}"]`);
        return Array.from(inputs).map(input => input.value).join(',');
      }

      function extractSelectTexts(selectName) {
        let inputs = document.querySelectorAll(`select[name="${selectName}"]`);
        return Array.from(inputs).map(input => input.options[input.selectedIndex].text).join(',');
      }

      // let spworkcdString = extractSelectValues('spworkcd');
      // let spcompcdString = extractSelectValues('spcompcd');
      // let spplancdString = extractSelectValues('spplancd');

      // let firstText  = extractSelectTexts('spworkcd');
      // let secondText = extractSelectTexts('spcompcd');
      // let thirdText  = extractSelectTexts('spplancd');
      // let agencynm = extractSelectTexts('agency');

      let data = FormUtil.extractForm($('#bomForm'));

      // data.spworkcd = spworkcdString;
      // data.spcompcd = spcompcdString;
      // data.spplancd = spplancdString;

      data.firstText = firstText;
      data.secondText = secondText;
      data.thirdText = thirdText;
      //data.authTypeText = authTypeText;
      // data.agencynm = agencynm;

      data.AuthenticationCode = $('#AuthenticationCodeRegister').val().trim();


      let fnSuccess = function (res) {
        if(res.success){
          Alert.alert('', res.message);
          $("#modal-close-button").trigger('click');

          emailAuthCode = false;

          for(let i=0; i < clearFieldList.length; i++){
            clearForm(clearFieldList[i]);
          }
          let idfield = document.getElementById('id')
          idfield.removeAttribute('readonly')

          //ì¶”ê°€ëœ ë°œì „ì§€ì—­ ìš”ì†Œë“¤ ì‚­ì œ
          const elements = document.getElementsByClassName('new-fl-ac');
          const elementsArray = Array.from(elements);

          elementsArray.forEach(element => {
            element.remove();
          });
          //ë

          RegisterUserClose();
        }else if (!res.success){
          Alert.alert('', res.message);
        }
      };
      AjaxUtil.postAsyncData("/Register/save", data, fnSuccess, function(res){
        Alert.alert('', 'ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.');
      });


    })

    function clearForm(param){
      let clearValue = document.getElementById(param);
      if(clearValue){
        clearValue.value = '';
      }

      $('#email').prop('readonly', false);


      if (activeTimerInterval) {
        clearInterval(activeTimerInterval);
      }
    }

    if (top.location != window.location) {
      alert('ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.')
      top.location.reload();
    }

    if (localStorage.getItem('theme-top') === null && localStorage.getItem('theme-left') === null) {
      dynamicLinkCss('/css/theme-top-a', '/css/theme-left-a');
    } else {
      dynamicLinkCss(localStorage.getItem('theme-top'), localStorage.getItem('theme-left'));
    }

    // Password show/hide
    $('.pass_box i').on('click', function () {
      $('.pass_box input').toggleClass('active');
      if ($('.pass_box input').hasClass('active')) {
        $(this).attr('class', "icon ion-md-eye").css({ "color": "#5567ff" }).prev('input').attr('type', "text");
      } else {
        $(this).attr('class', "icon ion-md-eye-off").css({ "color": "#989db1" }).prev('.pass_box input').attr('type', 'password');
      }
    });

    //// ë¡œê·¸ì¸ID ì €ì¥ Cokiee ê´€ë ¨ ì²˜ë¦¬
    $('#loginId').val(Cookies.get('loginId'));
    if ($('#loginId').val() != '') {
      $('#login_chk').attr('checked', true);
      $('#loginPwd').focus();
    }

    $('#login_chk').change(function () {
      if ($('#login_chk').is(':checked')) {
        Cookies.set('loginId', $('#loginId').val(), { expires: 7 });
      } else {
        Cookies.remove('loginId');
      }
    });

    $('#loginId').keyup(function () {
      if ($('#login_chk').is(':checked')) {
        Cookies.set('loginId', $('#loginId').val(), { path: '/', expires: 7 });
      }
    });

    function clearFields() {
      $('#loginId').val('');
      $('#loginPwd').val('');
      $('#loginId').focus();
    }

    function submitHandler(form) {

      var submitData = $(form).serialize() + '&isChangeLang=' + isChangeLang;
      $.post('/login', submitData, function (result) {
        let code = result.data.code;
        if (code == 'NOUSER') {

          Alert.alert('', 'ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
          return false;
        }
        if (code == 'NOID') {

          let redtext = document.getElementById('hint-red');
          redtext.style.display = 'block';
          Alert.alert('', 'ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.', clearFields);
        }
        else if (code == 'NOPW') {
          Alert.alert('', 'ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤', function () { $('#loginPwd').val(''); $('#loginPwd').focus(); });
        }
        else if (code == 'ETC') {
          Alert.alert('', 'ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.&lt;br&gt;ë‹¤ì‹œ ì‹œë„í•˜ì‹­ì‹œìš”', clearFields);
        } else if (code == 'NOAUTH') {
          Alert.alert('', 'ì‹œìŠ¤í…œ ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤. ì‹œìŠ¤í…œê´€ë¦¬ìì—ê²Œ í™•ì¸í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤', clearFields);
        } else if (code == 'FIRST') {
          Alert.alert('', 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•˜ì‹­ì‹œìš”.', function () { location.href = '/pwdchange'; });
        } else if (code == 'NOTCONFIRM') {
          Alert.alert('', 'ìŠ¹ì¸ë˜ì§€ ì•Šì€ ì‚¬ìš©ìì…ë‹ˆë‹¤.', clearFields);
        } else if (code == 'noactive') {
          Alert.alert('', 'ì‚¬ìš© ë¶ˆê°€ëŠ¥í•œ ì‚¬ìš©ìì…ë‹ˆë‹¤.', clearFields);
        }
        else {
          if (code == 'OK') {
            let lang_cd = sessionStorage.getItem('lang_code');
            let url = '/api/common/labels';
            let pData = { lang_code: lang_cd };
            let fnsuccess = function (result) {
              dic = {};
              $.each(result, function (idx, item) {
                let storageKey = lang_cd + '_' + item.gui_code + '_' + item.template_key;
                let data = [];
                if (dic.hasOwnProperty(storageKey)) {
                  data = dic[storageKey];
                } else {
                  dic[storageKey] = data;
                }
                data.push({ 'label_code': item.label_code, 'text': item.text, 'desc': item.descr });
              });

              $.each(dic, function (k, v) {
                let sessionData = JSON.stringify(v);
                sessionStorage.setItem(k, sessionData);
              });
              location.href = "/";
            };

            let fnfailure = function () {
              location.href = "/login";
            };
            AjaxUtil.getAsyncData(url, pData, fnsuccess, fnfailure);
            //location.href = "/";
          } else {
            location.href = '/';
          }
        }
      }).fail(function (e) {
        Alert.alert('', JSON.parse(e.responseText).message);
      });
    }
    $('#loginFrm').validate({ submitHandler: submitHandler });
  });


  // document.getElementById('testBtn').addEventListener('click', function() {
  //     // const data = document.getElementById('loginid').value;
  //
  //     // x-www-form-urlencoded í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë³´ëƒ„
  //     const params = new URLSearchParams();
  //     params.append('userId', 'UIS02024000000000096');
  //     params.append('accessToken', 'eyJraWQiOiIwN2JhZTU4MS1kNzBiLTRiZWEtYjc2Zi1hMWNmMzFmZDc0NTQiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuY2RuY2pmQG5hdmVyLmNvbSIsImF1ZCI6IkNJUzAyMDI0MDAwMDAwMDAwMDAyIiwibmJmIjoxNzMzNzA0NzU5LCJzY29wZSI6WyJvcGVuaWQiXSwiaXNzIjoiaHR0cDovLzE3Mi4yNS4xLjE1ODo4MTAwL3NzbyIsImV4cCI6MTczMzcwNjU1OSwiaWF0IjoxNzMzNzA0NzU5LCJ1c2VySWQiOiJVSVMwMjAyNDAwMDAwMDAwMDA5NiIsImp0aSI6ImZhNWVjN2E3LTBhMWMtNGJmMy04ZDY1LWQ3ODU1OTBmMGFkMSIsImF1dGhvcml0aWVzIjpbIlVJUzAyMDI0MDAwMDAwMDAwMDk2IiwiQ09NX1NJVEUiXX0.YuwDg7_3aNPXloR0DRPqOMfiLbAnk-b3V6uytUktCfF1OT7WOsK546SaZaFuc1HeCLQmJQDHFkBZNP3isfukGg1TE13o0CaVxUBkJ-u0UzCAZ40HbF3xNQ7AN5j7mt_f_XeUBC-3w3BXfXQ3CfscgkL3-MhpH19onpycjZNuKFswyG6cubUkazFALHHiYglvGWFwQCkx6al6pCTORYMwMXIIMRxq1u6XsnANij4TOC4fx3I_wChYAu338o8ckno8R26MxaIb85iUo4LaLY2cLYvTquYFvjhMb1Gjy92rdckMaVewS9lwWsUJIICF8Nsl1NeGvhYvy5wXm0IPaJ1tCg');
  //
  //     fetch('https://foms-route-kt.p-e.kr/foms/main', {
  //         method: 'POST',
  //         headers: {
  //             'Content-Type': 'application/x-www-form-urlencoded',
  //         },
  //         body: params.toString(),
  //         credentials: 'include'
  //
  //     })
  //         .then(response => {
  //             // ë¦¬ë””ë ‰ì…˜ì´ ìˆì„ ê²½ìš° ìë™ìœ¼ë¡œ ë”°ë¦„
  //             if (response.redirected) {
  //                 // ë¦¬ë””ë ‰ì…˜ëœ URLë¡œ ì´ë™
  //                 window.location.href = response.url;
  //             } else {
  //                 return response.json();  // ì‘ë‹µ ë³¸ë¬¸ ì²˜ë¦¬
  //             }
  //         })
  //         .then(data => {
  //             console.log('Success:', data);
  //         })
  //         .catch(error => {
  //             console.error('Error:', error);
  //         });
  // });

  document.getElementById('productionManage').addEventListener('click', function() {
    console.log("ğŸ”„ ìƒì‚°ê´€ë¦¬ ë²„íŠ¼ì´ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤!");

    // ì—¬ê¸°ì— ì›í•˜ëŠ” ë¡œì§ì„ ì‘ì„±í•©ë‹ˆë‹¤.
    // ì˜ˆì‹œ: í˜ì´ì§€ ì´ë™
    // window.location.href = '/production/manage';

    // ì˜ˆì‹œ: Ajax í˜¸ì¶œ
    // const data = { action: "manageProduction" };
    // AjaxUtil.postAsyncData("/api/production/manage", data, function(response) {
    //   if (response.success) {
    //     Alert.alert('', "ìƒì‚° ê´€ë¦¬ê°€ ì •ìƒì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.");
    //   } else {
    //     Alert.alert('', "ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.");
    //   }
    // });
    Alert.alert('', "í•´ë‹¹ ê¸°ëŠ¥ì€ \n ì¤€ë¹„ì¤‘ì…ë‹ˆë‹¤.");
  });

</script>

</body>
</html>
